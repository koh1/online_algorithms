
2.4.2 ページングにおける乱択アルゴリズム
---------------------------------------------------------------------

マーキングアルゴリズム
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
* 手順

  #. ページがリクエストされたとき、そのページにマークをつける。
  #. 高速記憶装置がいっぱいになり、ページフォルトによる消去が必要になったとき、マークが付いてないページがあれば、マークのないページを1つ（もしくは複数）選び消去する。
  #. すべてのページにマークがついていれば、すべてのマークを解除して、どれかのページを消去する。

* 特徴

  * 挙動は「LRU(Least-Recently-Used): 最近のページ要求が最も古いデータを削除する」と一致する
  * 特に「マークの無いページから、ランダムに一つ選び消去する」という戦略を持つマーキングアルゴリズムを **Random Select Marking Algorithm: MARK** と呼ぶ。

演習問題 2.9
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
..

  LRU, Clearはマーキングアルゴリズムとして記述できることを示せ

*MARKの手順を制約としてそれに処理を付加することで実現できることを示してみる* 

* LRU

  #. ページがリクエストされたとき、そのページにマークをつける。 *加えて同ページの最終アクセス時刻を記録する*
  #. 高速記憶装置がいっぱいになり、ページフォルトによる消去が必要になったとき、マークが付いてないページがあれば、マークのないページを1つ（もしくは複数）選び消去する。
  #. すべてのページにマークが付いていれば、すべてのマークを解除して、どれかのページを消去する。 *消去時にはページの最終アクセス時刻を確認し、その値が最も古いものを削除する* 

* Clear

  ?

..
  
  どのようなマーキングアルゴリズムも競合比が :math:`k` 以下であることを示せ

?

..

  FIFOはマーキングアルゴリズムではないことを示せ

?


定理 2.11
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..

  アルゴリズムMARKの競合比の期待値 :math:`\bar{R}_{\rm OBL}({\rm MARK})` は :math:`2H_k` 以下である。

定理 2.12
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..

  :math:`\bar{R}_{\rm OBL} ({\rm MARK})` は :math:`2H_k - 1` 以上である


定理 2.13 (ページングに対する乱択アルゴリズムの下界定理)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..

  どんな乱択アルゴリズムALGに対しても :math:`\bar{R}_{\rm OBL} ({\rm ALG}) > 2H_k` である


